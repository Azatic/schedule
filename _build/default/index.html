<!DOCTYPE html>
<html>

<head>
    <script src="main.bc.js"></script>

<body>
    <form>
        <label>План практик:</label>
        <input type="text" style="width: 200px; height: 50px;" name="input1"
            value="b-07 viden matan1,b-07 zhukov alg,b-07 viden matan2,b-08 zhukov subj1,b-08 viden matan3">
    </form>
    <form>
        <label>План лекций:</label>
        <input type="text" style="width: 200px; height: 50px;" name="input2" value="b-07 b-08 b-09 b-10 viden Math">
    </form>
    <form>
        <label>Ограничения:</label>
        <input type="text" style="width: 200px; height: 50px;" name="input3" value="b-07 monday 5">
    </form>
    <button onclick="myFunction()">Подтвердить</button>
    <script>
        function string_to_array(str1) {
            return str1.split(",").map(x => x.split(" "));
        }
        function myFunction() {
            var input1 = document.getElementsByName("input1")[0].value;
            var input2 = document.getElementsByName("input2")[0].value;
            var input3 = document.getElementsByName("input3")[0].value;
            const tableBody = document.getElementById('myTableBody');
            const data = myMathLib.generateSched(string_to_array(input3), string_to_array(input1), string_to_array(input2));
            const normaldata = data[0];
            console.log(normaldata);
            const pair =
                ['9:30 - 11:05', '11:15 - 12:50', '13:50 - 15:15', '15:25 - 17:00']
            const day =
                ['', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница']
            for (var i = 0; i < normaldata.length; i++) {
                document.write('расписание группы/преподавателя' + '  ' + normaldata[i].x);
                document.write('<table border="1" >');
                for (var k = -1; k < 4; k++) {
                    document.write('<tr>');
                    for (var j = -1; j < 5; j++) {
                        if (j < 0 && k > -1)
                            document.write('<td width="200" height="50">' + pair[k] + '</td>');
                        if (j > -1 && k > -1)
                            document.write('<td width="200" height="50">' + normaldata[i].schedule[j][k] + '</td>');
                        if (k < 0)
                            document.write('<td width="200" height="50">' + day[j + 1] + '</td>');
                        // if (k > -1 && j > -1)
                        //     document.write('<td width="200" height="50">' + normaldata[i].schedule[j][k] + '</td>');
                    }
                    document.write('</tr>');
                }
                document.write('</table><br>');
            }
        }
        // style="border-collapse: collapse; border: 1px solid black;
    </script>
</body>

</html>